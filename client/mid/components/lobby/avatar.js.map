{"version":3,"file":"avatar.js","sourceRoot":"","sources":["../../../src/components/lobby/avatar.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,6CAAwC;AAWxC;IAAoC,0BAAuB;IAUvD,gBAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAOf;QAED,mBAAa,GAAG;YACZ,KAAI,CAAC,QAAQ,CAAC,EAAC,MAAM,EAAE,IAAI,EAAC,CAAC,CAAC;QAClC,CAAC,CAAA;QAED,oBAAc,GAAG;YACb,KAAI,CAAC,QAAQ,CAAC;gBACV,GAAG,EAAE,gBAAgB;gBACrB,KAAK,EAAE,IAAI;aACd,CAAC,CAAC;QACP,CAAC,CAAA;QAjBG,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,KAAI,CAAC,KAAK,GAAG;YACT,MAAM,EAAE,KAAK;YACb,KAAK,EAAE,KAAK;YACZ,GAAG,EAAE,2BAAyB,KAAK,CAAC,KAAK,UAAK,KAAK,CAAC,IAAI,gBAAW,KAAK,CAAC,KAAK,kCAA+B;SAChH,CAAA;;IACL,CAAC;IAaD,uBAAM,GAAN;QACI,IAAI,QAAQ,GAAG,mBAAmB,CAAC;QACnC,IAAI,QAAQ,GAAG,mBAAmB,CAAC;QACnC,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;YAClB,QAAQ,GAAG,0BAA0B,CAAC;YACtC,QAAQ,GAAG,0BAA0B,CAAC;SACzC;aAAM,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;YAC7B,WAAW,GAAG,0BAA0B,CAAC;SAC5C;QAID,OAAO,CACH,uCAAK,SAAS,EAAE,QAAQ,GAAG,GAAG,GAAG,WAAW;YACvC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,uCAAK,SAAS,EAAE,4BAA4B,GAAG,QAAQ,EAAE,GAAG,EAAE,gBAAgB,GAAQ;YAClI,uCAAK,SAAS,EAAE,QAAQ,EAAE,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,aAAa,EAAE,OAAO,EAAE,IAAI,CAAC,cAAc,GAAQ,CAC7G,CACT,CAAA;IACL,CAAC;IACL,aAAC;AAAD,CAAC,AAnDD,CAAoC,iBAAS,GAmD5C","sourcesContent":["import React, { Component } from 'react'\r\n\r\n\r\ntype Props = {};\r\ntype State =  {\r\n    loaded: boolean\r\n    error: boolean\r\n    src: string\r\n}\r\n\r\n\r\nexport default class Avatar extends Component<Props, State> {\r\n\r\n    props: {\r\n        name: string,\r\n        theme: string,\r\n        shape: string,\r\n        small?: boolean,\r\n        invitable?: boolean,\r\n    }\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.props = props;\r\n        this.state = {\r\n            loaded: false,\r\n            error: false,\r\n            src: `http://tinygraphs.com/${props.shape}/{${props.name}}?theme=${props.theme}&numcolors=4&size=220&fmt=svg`\r\n        }\r\n    }\r\n\r\n    onLoadHandler = () => {\r\n        this.setState({loaded: true});\r\n    }\r\n\r\n    onErrorHandler = () => {\r\n        this.setState({\r\n            src: \"./img/pawn.png\",\r\n            error: true\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let divClass = \"lobby__avatar-div\";\r\n        let imgClass = \"lobby__avatar-img\";\r\n        let inviteClass = \"\";\r\n        if (this.props.small) {\r\n            divClass = \"lobby__author-avatar-div\";\r\n            imgClass = \"lobby__author-avatar-img\";\r\n        } else if (this.props.invitable) {\r\n            inviteClass = \"lobby__player--invitable\";\r\n        }\r\n\r\n\r\n\r\n        return (\r\n            <div className={divClass + \" \" + inviteClass} >\r\n                {!this.state.loaded && !this.state.error && <img className={\"lobby__avatar-placeholder \" + imgClass} src={\"./img/pawn.png\"}></img>}\r\n                <img className={imgClass} src={this.state.src} onLoad={this.onLoadHandler} onError={this.onErrorHandler}></img>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]}