{"version":3,"file":"Room.js","sourceRoot":"","sources":["../../../src/components/lobby/Room.tsx"],"names":[],"mappings":";;;;;AAAA,gDAA0B;AAQzB,CAAC;AAWD,CAAC;AAEF,SAAwB,IAAI,CAAC,KAAY;IACvC,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;IAExB,IAAM,oBAAoB,GAAG,UAAC,KAAuB;QACnD,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC,CAAC;IAEF,IAAM,eAAe,GAAG,UAAC,KAAuB;QAC9C,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IAC7B,CAAC,CAAC;IACF,IAAM,gBAAgB,GAAG,UAAC,KAAuB;QAC/C,aAAa,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IAC9B,CAAC,CAAC;IACF,IAAM,aAAa,GAAG,UAAC,KAAuB,EAAE,KAAc;QAC5D,IAAM,MAAM,GAAG,KAAK,CAAC,MAA0B,CAAC;QAChD,IAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;QACvD,IAAM,QAAQ,GAAG,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,QAAQ,CAAC;QACnC,IAAI,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC,EAAE;YAC3B,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;SACtD;IACH,CAAC,CAAC;IACF,IAAM,eAAe,GAAG,UAAC,KAAuB;QAC9C,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC,CAAC;IAEF,IAAI,SAAS,GAAG,EAAE,CAAC;IACnB,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC,WAAW,CAAC,IAAI,EAAE;QACvC,SAAS,GAAG,sBAAsB,CAAC;KACpC;IACD,IAAI,IAAI,CAAC,MAAM,EAAE;QACf,SAAS,IAAI,sBAAsB,CAAC;KACrC;IACD,IAAI,cAAc,GAAG,EAAE,CAAC;IACxB,IAAI,IAAI,CAAC,KAAK,EAAE;QACd,cAAc,GAAG,4BAA4B,CAAC;KAC/C;SAAM;QACL,cAAc,GAAG,2BAA2B,CAAC;KAC9C;IACD,IAAI,eAAe,GAAG,EAAE,CAAC;IAEzB,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,aAAa,EAAE;QACpC,eAAe,GAAG,qBAAqB,CAAC;KACzC;IAED,OAAO,CACL,uCACE,SAAS,EAAC,qBAAqB,EAC/B,WAAW,EAAE,eAAe,EAC5B,YAAY,EAAE,gBAAgB;QAE9B,uCACE,SAAS,EAAE,wBAAwB,GAAG,SAAS,GAAG,GAAG,GAAG,eAAe,EACvE,OAAO,EAAE,eAAe,IAEvB,IAAI,CAAC,IAAI,CACN;QACL,IAAI,CAAC,EAAE,IAAI,QAAQ,IAAI,CACtB,uCACE,SAAS,EAAE,oBAAoB,GAAG,cAAc,EAChD,OAAO,EAAE,oBAAoB;YAE7B,qCAAG,SAAS,EAAC,qBAAqB,GAAK,CACnC,CACP,CACG,CACP,CAAC;AACJ,CAAC;AAlED,uBAkEC","sourcesContent":["import React from \"react\";\r\n\r\ninterface Room {\r\n  name: string;\r\n  id: string;\r\n  unread: boolean;\r\n  hover: boolean;\r\n  isWriting: boolean;\r\n};\r\n\r\ninterface Props {\r\n  closeRoom: (name: string) => void;\r\n  setRoomProperty: (id: string, prop: string, value: any) => void;\r\n  switchRoom: (room: Room) => void;\r\n  room: Room;\r\n  currentRoom: {\r\n    name: string;\r\n    id: string;\r\n  };\r\n};\r\n\r\nexport default function Room(props: Props) {\r\n  const room = props.room;\r\n\r\n  const handleClickCloseRoom = (event: React.MouseEvent) => {\r\n    props.closeRoom(room.name);\r\n  };\r\n\r\n  const handleMouseOver = (event: React.MouseEvent) => {\r\n    roomMouseMove(event, true);\r\n  };\r\n  const handleMouseLeave = (event: React.MouseEvent) => {\r\n    roomMouseMove(event, false);\r\n  };\r\n  const roomMouseMove = (event: React.MouseEvent, hover: boolean) => {\r\n    const target = event.target as HTMLInputElement;\r\n    const wrapper = target.closest(\".lobby__room-wrapper\");\r\n    const children = wrapper?.children;\r\n    if (children && children[0]) {\r\n      props.setRoomProperty(props.room.id, \"hover\", hover);\r\n    }\r\n  };\r\n  const handleClickRoom = (event: React.MouseEvent) => {\r\n    props.switchRoom(props.room);\r\n  };\r\n\r\n  let roomClass = \"\";\r\n  if (room.name == props.currentRoom.name) {\r\n    roomClass = \"lobby__room--current\";\r\n  }\r\n  if (room.unread) {\r\n    roomClass += \" lobby__room--unread\";\r\n  }\r\n  let closeRoomClass = \"\";\r\n  if (room.hover) {\r\n    closeRoomClass = \"lobby__close-room--visible\";\r\n  } else {\r\n    closeRoomClass = \"lobby__close-room--hidden\";\r\n  }\r\n  let globalRoomClass = \"\";\r\n\r\n  if (props.room.name == \"global room\") {\r\n    globalRoomClass = \"lobby__room--global\";\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"lobby__room-wrapper\"\r\n      onMouseOver={handleMouseOver}\r\n      onMouseLeave={handleMouseLeave}\r\n    >\r\n      <div\r\n        className={\"lobby__room no-select \" + roomClass + \" \" + globalRoomClass}\r\n        onClick={handleClickRoom}\r\n      >\r\n        {room.name}\r\n      </div>\r\n      {room.id != \"global\" && (\r\n        <div\r\n          className={\"lobby__close-room \" + closeRoomClass}\r\n          onClick={handleClickCloseRoom}\r\n        >\r\n          <i className=\"icon-cancel-circled\"></i>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"]}