{"version":3,"file":"room.js","sourceRoot":"","sources":["../../../src/components/lobby/room.tsx"],"names":[],"mappings":";;;;;AAAA,gDAA0B;AAuB1B,SAAwB,IAAI,CAAC,KAAY;IACrC,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;IAGxB,IAAM,oBAAoB,GAAG,UAAC,KAAuB;QAC7C,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC,CAAA;IAED,IAAM,eAAe,GAAG,UAAC,KAAuB;QAC5C,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IAC/B,CAAC,CAAA;IACD,IAAM,gBAAgB,GAAG,UAAC,KAAuB;QAC7C,aAAa,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IAChC,CAAC,CAAA;IACD,IAAM,aAAa,GAAG,UAAC,KAAuB,EAAE,KAAc;QAC1D,IAAM,MAAM,GAAG,KAAK,CAAC,MAA0B,CAAC;QAChD,IAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;QACvD,IAAM,QAAQ,GAAG,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,QAAQ,CAAC;QACnC,IAAI,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC,EAAE;YACzB,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;SACxD;IACL,CAAC,CAAA;IACD,IAAM,eAAe,GAAG,UAAC,KAAuB;QAC5C,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;IAChC,CAAC,CAAA;IAGD,IAAI,SAAS,GAAG,EAAE,CAAC;IACX,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC,WAAW,CAAC,IAAI,EAAE;QACrC,SAAS,GAAG,sBAAsB,CAAC;KACtC;IACD,IAAI,IAAI,CAAC,MAAM,EAAE;QACb,SAAS,IAAI,sBAAsB,CAAA;KACtC;IACD,IAAI,cAAc,GAAI,EAAE,CAAC;IACzB,IAAI,IAAI,CAAC,KAAK,EAAE;QACZ,cAAc,GAAG,4BAA4B,CAAA;KAChD;SAAM;QACH,cAAc,GAAG,2BAA2B,CAAA;KAC/C;IAGT,OAAO,CACH,uCAAK,SAAS,EAAC,qBAAqB,EAAC,WAAW,EAAE,eAAe,EAAE,YAAY,EAAE,gBAAgB;QAC7F,uCAAK,SAAS,EAAE,wBAAwB,GAAG,SAAS,EAAG,OAAO,EAAE,eAAe,IAAG,IAAI,CAAC,IAAI,CAAO;QACjG,IAAI,CAAC,EAAE,IAAI,QAAQ,IAAI,uCAAK,SAAS,EAAE,oBAAoB,GAAG,cAAc,EAAE,OAAO,EAAE,oBAAoB;YACxG,qCAAG,SAAS,EAAC,qBAAqB,GAAK,CACrC,CACJ,CAAC,CAAA;AACf,CAAC;AAjDD,uBAiDC","sourcesContent":["import React from 'react';\r\n\r\n\r\n\r\ntype Room = {\r\n    name: string,\r\n    id: string,\r\n    unread: boolean,\r\n    hover: boolean,\r\n    isWriting: boolean,\r\n}\r\n\r\ntype Props = {\r\n    closeRoom: (name: string) => void,\r\n    setRoomProperty: (id: string, prop: string, value: any) => void,\r\n    switchRoom: (room: Room) => void,\r\n    room: Room,\r\n    currentRoom: {\r\n        name: string,\r\n        id: string\r\n    }\r\n}\r\n\r\nexport default function Room(props: Props) {\r\n    const room = props.room;\r\n\r\n\r\n    const handleClickCloseRoom = (event: React.MouseEvent) => {\r\n            props.closeRoom(room.name);\r\n    }\r\n\r\n    const handleMouseOver = (event: React.MouseEvent) => {\r\n        roomMouseMove(event, true);\r\n    }\r\n    const handleMouseLeave = (event: React.MouseEvent) => {\r\n        roomMouseMove(event, false);\r\n    }\r\n    const roomMouseMove = (event: React.MouseEvent, hover: boolean) => {\r\n        const target = event.target as HTMLInputElement;\r\n        const wrapper = target.closest(\".lobby__room-wrapper\");\r\n        const children = wrapper?.children;\r\n        if (children && children[0]) {\r\n            props.setRoomProperty(props.room.id, \"hover\", hover);\r\n        } \r\n    }\r\n    const handleClickRoom = (event: React.MouseEvent) => {\r\n        props.switchRoom(props.room)\r\n    }\r\n\r\n\r\n    let roomClass = \"\";\r\n            if (room.name == props.currentRoom.name) {\r\n                roomClass = \"lobby__room--current\";\r\n            }\r\n            if (room.unread) {\r\n                roomClass += \" lobby__room--unread\"\r\n            }\r\n            let closeRoomClass =  \"\";\r\n            if (room.hover) {\r\n                closeRoomClass = \"lobby__close-room--visible\"\r\n            } else {\r\n                closeRoomClass = \"lobby__close-room--hidden\"\r\n            }\r\n\r\n\r\n    return (\r\n        <div className=\"lobby__room-wrapper\" onMouseOver={handleMouseOver} onMouseLeave={handleMouseLeave}>\r\n            <div className={\"lobby__room no-select \" + roomClass}  onClick={handleClickRoom}>{room.name}</div>\r\n            {room.id != \"global\" && <div className={\"lobby__close-room \" + closeRoomClass} onClick={handleClickCloseRoom}>\r\n                <i className=\"icon-cancel-circled\"></i>\r\n            </div>}\r\n        </div>)\r\n}\r\n"]}