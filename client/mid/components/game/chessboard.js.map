{"version":3,"file":"chessboard.js","sourceRoot":"","sources":["../../../src/components/game/chessboard.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AACA,gDAA0B;AAC1B,oDAA8B;AAI9B;IAAwC,8BAAe;IAYnD,oBAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAEf;QADG,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;IACvB,CAAC;IAED,iCAAY,GAAZ,UAAa,EAAU;QACnB,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QAC/B,IAAI,MAAM,CAAC,aAAa,IAAI,EAAE,EAAE;YAC5B,OAAO,UAAU,CAAC;SACrB;aAAM,IAAI,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE;YACzC,OAAO,QAAQ,CAAC;SACnB;aAAM,IAAI,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE;YAC3C,OAAO,UAAU,CAAC;SACrB;aAAM;YACH,OAAO,QAAQ,CAAC;SACnB;IACL,CAAC;IAGD,2BAAM,GAAN;QAEI,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QAC/B,IAAI,OAAO,GAAG,EAAE,CAAC;QAEjB,IAAI,MAAM,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YAElC,IAAI,SAAS,GAAG,QAAQ,CAAC;YACzB,IAAI,UAAU,SAAwB,CAAC;YAEvC,KAAK,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,EAAE,EAAE;gBAC/B,KAAK,IAAI,MAAM,GAAG,CAAC,EAAE,MAAM,IAAI,CAAC,EAAE,MAAM,EAAE,EAAE;oBACxC,SAAS,GAAG,SAAS,IAAI,cAAc,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,cAAc,CAAC;oBACpE,IAAI,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,CAAC;oBACpC,IAAI,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE;wBACpC,SAAS,IAAI,oBAAoB,CAAC;qBAErC;oBACD,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;oBAC5C,IAAI,KAAK,GAAG,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;oBAE3C,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAA;oBAErC,OAAO,CAAC,IAAI,CAAC,8BAAC,gBAAM,IAAC,EAAE,EAAE,EAAE,CAAC,QAAQ,EAAE,EAAE,SAAS,EAAE,SAAS,EAAE,GAAG,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,GAAG,CAAC,CAAA;iBAC/I;gBACD,SAAS,GAAG,SAAS,IAAI,cAAc,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,cAAc,CAAC;aACvE;SACA;aAAM;SAEN;QAED,OAAO,CACH,uCAAK,SAAS,EAAC,YAAY,IACtB,OAAO,CACN,CACT,CAAA;IACL,CAAC;IAEL,iBAAC;AAAD,CAAC,AArED,CAAwC,eAAK,CAAC,SAAS,GAqEtD","sourcesContent":["\r\nimport React from 'react';\r\nimport Square from './square';\r\nimport { Chessboard as IChessboard } from '../../engine';\r\n\r\n\r\nexport default class Chessboard extends React.Component {\r\n\r\n    props: {\r\n        engine: {\r\n            selectedPiece: number | null,\r\n            lockedPieces: number[],\r\n            killablePieces: number[],\r\n            availableMoves: number[],\r\n            chessboard: IChessboard,\r\n        };\r\n    }\r\n\r\n    constructor(props: any) {\r\n        super(props)\r\n        this.props = props;\r\n    }\r\n\r\n    getPieceType(id: number) {\r\n        let engine = this.props.engine;\r\n        if (engine.selectedPiece == id) {\r\n            return 'selected';\r\n        } else if (engine.lockedPieces.includes(id)) {\r\n            return \"locked\";\r\n        } else if (engine.killablePieces.includes(id)) {\r\n            return \"killable\";\r\n        } else {\r\n            return 'normal';\r\n        }\r\n    }\r\n    \r\n\r\n    render() {\r\n        \r\n        let engine = this.props.engine;\r\n        let squares = [];\r\n\r\n        if (engine.chessboard.length > 0) {\r\n        \r\n        let className = \"square\";\r\n        let pieceColor: \"black\" | \"white\" | \"\";\r\n        \r\n        for (let row = 1; row <= 8; row++) {\r\n            for (let column = 1; column <= 8; column++) {\r\n                className = className == \"square white\" ? \"square\" : \"square white\";\r\n                let id = (row - 1) * 8 + column - 1;\r\n                if (engine.availableMoves.includes(id)) {\r\n                    className += \" highlightedSquare\";\r\n                    \r\n                } \r\n                pieceColor = engine.chessboard[id]['piece'];\r\n                let queen = engine.chessboard[id][\"queen\"];\r\n\r\n                let pieceType = this.getPieceType(id)\r\n\r\n                squares.push(<Square id={id.toString()} className={className} key={id} pieceColor={pieceColor} type={this.getPieceType(id)} queen={queen}/>)\r\n            }\r\n            className = className == \"square white\" ? \"square\" : \"square white\";\r\n        }\r\n        } else {\r\n            \r\n        }\r\n        \r\n        return (\r\n            <div className=\"chessboard\">\r\n                {squares}\r\n            </div>\r\n        )\r\n    }\r\n    \r\n}"]}